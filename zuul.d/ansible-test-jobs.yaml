---
- job:
    name: ansible-test-sanity-docker
    parent: unittests
    nodeset: controller-python36
    dependencies:
      - name: build-ansible-collection
        soft: true
    pre-run: playbooks/ansible-test-base/pre.yaml
    run: playbooks/ansible-test-base/run.yaml
    required-projects:
      - name: github.com/ansible/ansible
    timeout: 3600
    vars:
      ansible_test_collections: true
      ansible_collections_repo: "{{ zuul.project.canonical_name }}"
      ansible_test_command: sanity
      ansible_test_docker: true
      ansible_test_enable_ara: false
      ansible_test_python: 3.6
      container_command: podman

- job:
    name: ansible-test-sanity-docker-stable-2.9
    parent: ansible-test-sanity-docker
    required-projects:
      - name: github.com/ansible/ansible
        override-checkout: stable-2.9
    vars:
      container_command: docker

- job:
    name: ansible-test-sanity-docker-stable-2.10
    parent: ansible-test-sanity-docker
    required-projects:
      - name: github.com/ansible/ansible
        override-checkout: stable-2.10
    vars:
      container_command: docker

- job:
    name: ansible-test-sanity-docker-stable-2.11
    parent: ansible-test-sanity-docker
    required-projects:
      - name: github.com/ansible/ansible
        override-checkout: stable-2.11
    vars:
      container_command: docker
