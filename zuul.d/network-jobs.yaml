---
- job:
    name: network-ee-tests-base
    parent: ansible-ee-tests-base
    abstract: true
    vars:
      container_image_name: quay.io/ansible/network-ee

- job:
    name: network-ee-integration-tests
    parent: ansible-navigator-tests-base
    pre-run: playbooks/network-ee-integration-tests/pre.yaml
    post-run: playbooks/network-ee-integration-tests/post.yaml
    abstract: true
    dependencies:
      - network-ee-build-container-image
    vars:
      container_image_name: quay.io/ansible/network-ee
      container_image_version: latest
      ansible_network_cli_ssh_type: paramiko
      ansible_ssh_private_key_file: ~/.ssh/id_rsa

- job:
    name: network-ee-tests
    parent: network-ee-tests-base
    abstract: true
    dependencies:
      - network-ee-build-container-image
    vars:
      container_image_version: latest

- job:
    name: network-ee-integration-base
    parent: network-ee-tests
    pre-run: playbooks/network-ee-integration-base/pre.yaml
    run: playbooks/network-ee-integration-base/run.yaml

- job:
    name: network-ee-sanity-tests
    parent: network-ee-tests
    vars:
      container_image_test: sanity

- job:
    name: network-ee-unit-tests
    parent: network-ee-tests
    vars:
      container_image_test: unit

- job:
    name: network-ee-tests-stable-2.11
    parent: network-ee-tests-base
    abstract: true
    dependencies:
      - network-ee-build-container-image-stable-2.11
    vars:
      container_image_version: stable-2.11

- job:
    name: network-ee-sanity-tests-stable-2.11
    parent: network-ee-tests-stable-2.11
    vars:
      container_image_test: sanity

- job:
    name: network-ee-unit-tests-stable-2.11
    parent: network-ee-tests-stable-2.11
    vars:
      container_image_test: unit

- job:
    name: network-ee-tests-stable-2.10
    parent: network-ee-tests-base
    abstract: true
    dependencies:
      - network-ee-build-container-image-stable-2.10
    vars:
      container_image_version: stable-2.10

- job:
    name: network-ee-sanity-tests-stable-2.10
    parent: network-ee-tests-stable-2.10
    vars:
      container_image_test: sanity

- job:
    name: network-ee-unit-tests-stable-2.10
    parent: network-ee-tests-stable-2.10
    vars:
      container_image_test: unit

- job:
    name: network-ee-tests-stable-2.9
    parent: network-ee-tests-base
    abstract: true
    dependencies:
      - network-ee-build-container-image-stable-2.9
    vars:
      container_image_version: stable-2.9

- job:
    name: network-ee-sanity-tests-stable-2.9
    parent: network-ee-tests-stable-2.9
    vars:
      container_image_test: sanity

- job:
    name: network-ee-unit-tests-stable-2.9
    parent: network-ee-tests-stable-2.9
    vars:
      container_image_test: unit
